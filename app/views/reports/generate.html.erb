<h3>Worked Hours</h3>
  <p>From: <%= Time.parse(@mindate.to_s).strftime('%d/%m/%Y %H:%M')%><p/>
  <p>To: <%= Time.parse(@maxdate.to_s).strftime('%d/%m/%Y %H:%M')%><p/>
  <p>Employee: <% if @userselected.present? %> <%= current_user.firstname+" "+current_user.lastname %><% else %>All Employees <% end %><p/>


  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <% if current_user.admin? %>
            <th>
              Employee
            </th>
          <% end %>
          <th>
            Sign In
          </th>
          <th>
            Sign Out
          </th>
          <th>
            Place
          </th>
          <th>
            Total hours per shift
          </th>
      </thead>
      <tbody>

      <% total = 0 %>
        <% @logs.each do |log| %>
          <% wrktime = 0 %>
          <tr>
            <% if current_user.admin? %>
              <td class="col-md-2"><%= log.user.firstname+" "+log.user.lastname %></td>
            <% end %>
            <td class="col-md-2"><%= Time.parse(log.Signin.to_s).strftime('%d/%m/%Y %H:%M') %></td>
            <td class="col-md-2"><%= Time.parse(log.Signout.to_s).strftime('%d/%m/%Y %H:%M') %></td>
            <td class="col-md-2"><%= log.place.name %></td>

            <%  wrktime = log.Signout.to_i - log.Signin.to_i
                mm, ss = wrktime.divmod(60)            
                hh, mm = mm.divmod(60)%>
            <td class="col-md-2"><%=  hh.to_s.rjust(2, '0') %>:<%= mm.to_s.rjust(2, '0') %></td>
          </tr>
          <% total = total + wrktime %>
        <% end %>
        <% mm, ss = total.divmod(60)            
           hh, mm = mm.divmod(60)%>
        <tr>
          <th colspan=<% if current_user.admin? %>"4"<%else%>"3"<%end%> align="right">Total hours for the period:</th>
          <td><%= hh.to_s.rjust(2, '0') %>:<%= mm.to_s.rjust(2, '0') %></td>
        </tr>
      </tbody>
    </table>
  </div>

<%= link_to 'New Report', reports_path, class: "btn btn-link mclink" %>